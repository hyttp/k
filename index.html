<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>CN Lab Programs (1â€“5)</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{font-family:Arial,Helvetica,sans-serif;background:#f4f6f8;padding:20px}
h1{text-align:center;color:#1f2937}
h2,h3{color:#111827;margin-top:30px}
button{padding:10px 18px;margin:8px;border:none;border-radius:6px;background:#2563eb;color:#fff;cursor:pointer;font-size:14px}
button:hover{background:#1d4ed8}
pre{background:#0f172a;color:#e5e7eb;padding:20px;border-radius:8px;overflow-x:auto;font-size:14px}
</style>
</head>
<body>

<!-- ðŸ‘‡ðŸ‘‡ ONLY ADDED THESE TWO BUTTONS ðŸ‘‡ðŸ‘‡ -->
<button onclick="document.getElementById('cn-start').scrollIntoView()">CN</button>
<button onclick="document.getElementById('sscd').scrollIntoView()">SSCD</button>
<!-- â˜â˜ ONLY ADDED THESE TWO BUTTONS â˜â˜ -->

<!-- ðŸ‘‡ðŸ‘‡ ADDED EMPTY SSCD SECTION ðŸ‘‡ðŸ‘‡ -->
<section id="cn-start">
<h1>Computer Networks Lab Programs</h1>
</section>
<!-- â˜â˜ ADDED EMPTY SSCD SECTION â˜â˜ -->

<button onclick="document.getElementById('p1').scrollIntoView()">Program 1</button>
<button onclick="document.getElementById('p2').scrollIntoView()">Program 2</button>
<button onclick="document.getElementById('p3').scrollIntoView()">Program 3</button>
<button onclick="document.getElementById('p4').scrollIntoView()">Program 4</button>
<button onclick="document.getElementById('p5').scrollIntoView()">Program 5</button>

<section id="p1">
<h2>1. TCP/IP Socket Programming â€“ File Transfer</h2>

<h3>client.c</h3>
<pre><code>
#include &lt;stdio.h&gt;
#include &lt;arpa/inet.h&gt;
#include &lt;unistd.h&gt;

int main() {
 int soc = socket(PF_INET, SOCK_STREAM, 0);
 if (soc < 0) return 1;

 struct sockaddr_in addr = {
  .sin_family = AF_INET,
  .sin_port = htons(7891),
  .sin_addr.s_addr = inet_addr("127.0.0.1")
 };

 if (connect(soc, (struct sockaddr *)&addr, sizeof(addr)) == 0) {
  printf("Connected to server\nEnter file name: ");
  char fname[50], buffer[1024];
  scanf("%s", fname);
  send(soc, fname, sizeof(fname), 0);
  printf("Response:\n");
  while (recv(soc, buffer, sizeof(buffer), 0) > 0)
   printf("%s", buffer);
 }
 close(soc);
 return 0;
}
</code></pre>

<h3>server.c</h3>
<pre><code>
#include &lt;stdio.h&gt;
#include &lt;arpa/inet.h&gt;
#include &lt;fcntl.h&gt;
#include &lt;unistd.h&gt;

int main() {
 int welcome = socket(PF_INET, SOCK_STREAM, 0);

 struct sockaddr_in addr = {
  .sin_family = AF_INET,
  .sin_port = htons(7891),
  .sin_addr.s_addr = inet_addr("127.0.0.1")
 };

 bind(welcome, (struct sockaddr*)&addr, sizeof(addr));
 listen(welcome, 5);

 int new_soc = accept(welcome, NULL, NULL);
 char fname[50], buffer[1024];
 recv(new_soc, fname, sizeof(fname), 0);

 int fd = open(fname, O_RDONLY);
 if (fd < 0)
  send(new_soc, "File not found\n", 15, 0);
 else {
  int n;
  while ((n = read(fd, buffer, sizeof(buffer))) > 0)
   send(new_soc, buffer, n, 0);
 }

 close(fd);
 close(new_soc);
 close(welcome);
 return 0;
}
</code></pre>
</section>

<section id="p2">
<h2>2. Data Link Layer Framing Methods</h2>

<h3>(a) Character Stuffing</h3>
<pre><code>
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
void character_stuffing(const char *input, char *output, char ch, int pos) {
 const char *dle = "dle";
 strcpy(output, "dlestx");
 int j = 6;
 for (int i = 0; input[i] != '\0'; i++) {
  if (i == pos - 1) {
   strcat(output + j, dle);
   output[j + 3] = ch;
   strcat(output + j + 4, dle);
   j += 7;
  } else if (!strncmp(&input[i], dle, 3)) {
   strcat(output + j, dle);
   j += 3;
  }
  output[j++] = input[i];
 }
 strcat(output + j, "dleetx");
}
int main() {
 char input[20], output[50], ch;
 int pos;
 printf("Enter string: ");
 scanf("%s", input);
 printf("Enter stuffing position and character: ");
 scanf("%d %c", &pos, &ch);
 character_stuffing(input, output, ch, pos);
 printf("Frame after stuffing: %s\n", output);
 return 0;
}
</code></pre>

<h3>(b) Bit Stuffing</h3>
<pre><code>
#include &lt;stdio.h&gt;
void bit_stuffing(int *input, int n) {
 int output[50], j = 0, count = 0;
 for (int i = 0; i < n; i++) {
  output[j++] = input[i];
  if (input[i] == 1) {
   count++;
   if (count == 5) {
    output[j++] = 0;
    count = 0;
   }
  } else count = 0;
 }
 printf("After stuffing: ");
 for (int i = 0; i < j; i++) printf("%d", output[i]);
 printf("\n");
}
int main() {
 int n, input[20];
 printf("Enter frame length and bits: ");
 scanf("%d", &n);
 for (int i = 0; i < n; i++) scanf("%d", &input[i]);
 bit_stuffing(input, n);
 return 0;
}
</code></pre>
</section>

<section id="p3">
<h2>3. Cyclic Redundancy Check (CRC)</h2>
<pre><code>
#include &lt;stdio.h&gt;
int main() {
 int data[50], div[16], rem[16];
 int datalen = 0, divlen = 0;
 char ch;
 printf("Enter the data (0s and 1s): ");
 while ((ch = getchar()) != '\n')
  data[datalen++] = ch - '0';
 printf("Enter the divisor (0s and 1s): ");
 while ((ch = getchar()) != '\n')
  div[divlen++] = ch - '0';
 for (int i = 0; i < divlen - 1; i++)
  data[datalen + i] = 0;
 for (int i = 0; i < divlen; i++)
  rem[i] = data[i];
 for (int i = divlen; i <= datalen + divlen - 1; i++) {
  if (rem[0] == 1)
   for (int j = 1; j < divlen; j++)
    rem[j - 1] = rem[j] ^ div[j];
  else
   for (int j = 1; j < divlen; j++)
    rem[j - 1] = rem[j];
  rem[divlen - 1] = data[i];
 }
 for (int i = 0; i < divlen - 1; i++)
  data[datalen + i] = rem[i];
 printf("The data to be sent is: ");
 for (int i = 0; i < datalen + divlen - 1; i++)
  printf("%d", data[i]);
 printf("\n");
 return 0;
}
</code></pre>
</section>

<section id="p4">
<h2>4. Frame Sorting Technique</h2>
<pre><code>
#include &lt;stdio.h&gt;
typedef struct {
 int num;
 char str[50];
} Frame;
void sort(Frame arr[], int n) {
 for (int i = 0; i < n - 1; i++)
  for (int j = i + 1; j < n; j++)
   if (arr[i].num > arr[j].num) {
    Frame temp = arr[i];
    arr[i] = arr[j];
    arr[j] = temp;
   }
}
int main() {
 int n;
 printf("Enter number of frames: ");
 scanf("%d", &n);
 Frame arr[n];
 for (int i = 0; i < n; i++) {
  printf("Enter frame number and content: ");
  scanf("%d %s", &arr[i].num, &arr[i].str);
 }
 sort(arr, n);
 printf("Sorted frames:\n");
 for (int i = 0; i < n; i++)
  printf("%d\t%s\n", arr[i].num, arr[i].str);
 return 0;
}
</code></pre>
</section>

<section id="p5">
<h2>5. Hamming Code â€“ Error Detection and Correction</h2>
<pre><code>
#include &lt;stdio.h&gt;
int main() {
 int data[7], recv[7];
 int c1, c2, c3, c, i;
 printf("Enter 4 bits of data: ");
 scanf("%d %d %d %d", &data[2], &data[4], &data[5], &data[6]);
 data[0] = data[2] ^ data[4] ^ data[6];
 data[1] = data[2] ^ data[5] ^ data[6];
 data[3] = data[4] ^ data[5] ^ data[6];
 printf("Encoded data: ");
 for (i = 0; i < 7; i++) printf("%d", data[i]);
 printf("\nEnter received 7 bits: ");
 for (i = 0; i < 7; i++) scanf("%d", &recv[i]);
 c1 = recv[0] ^ recv[2] ^ recv[4] ^ recv[6];
 c2 = recv[1] ^ recv[2] ^ recv[5] ^ recv[6];
 c3 = recv[3] ^ recv[4] ^ recv[5] ^ recv[6];
 c = c3 * 4 + c2 * 2 + c1;
 if (c == 0)
  printf("No error detected\n");
 else {
  printf("Error at bit position: %d\n", c);
  recv[c - 1] ^= 1;
  printf("Corrected data: ");
  for (i = 0; i < 7; i++) printf("%d", recv[i]);
 }
 return 0;
}
</code></pre>
</section>
<section id="sscd"><h1>SYSTEM SOFTWARE & COMPILER DESIGN LAB</h1></section>

<button onclick="document.getElementById('s1').scrollIntoView()">Program 1</button>
<button onclick="document.getElementById('s2').scrollIntoView()">Program 2</button>
<button onclick="document.getElementById('s3').scrollIntoView()">Program 3</button>
<button onclick="document.getElementById('s4').scrollIntoView()">Program 4</button>
<button onclick="document.getElementById('s5').scrollIntoView()">Program 5</button>
<button onclick="document.getElementById('s6').scrollIntoView()">Program 6</button>
<button onclick="document.getElementById('s7').scrollIntoView()">Program 7</button>
<button onclick="document.getElementById('s8').scrollIntoView()">Program 8</button>
<button onclick="document.getElementById('s9').scrollIntoView()">Program 9</button>
<button onclick="document.getElementById('s10').scrollIntoView()">Program 10</button>



<!-- ===================== S1 ====================== -->
<section id="s1">
<h2>1(a) Count characters, words, spaces & lines â€” LEX</h2>
<pre><code>
%{
int cc=0,wc=0,sc=0,lc=0;
%}

%%
[ ]     {sc++;cc++;}
[^\t\n ]+ {wc++;cc+=yyleng;}
[\n]    {lc++;cc++;}
[\t]    {sc+=8;cc++;}
%%

int main()
{
 char fname[20];
 printf("Enter a file name:\n");
 scanf("%s",fname);
 yyin=fopen(fname,"r");
 yylex();
 fclose(yyin);

 printf("Characters=%d\nSpaces=%d\nLines=%d\nWords=%d\n",
 cc,sc,lc,wc);
}
</code></pre>


<section id="s1">
<h2>1(b). Count comment lines & remove â€” LEX</h2>
<pre><code>
%{
int com=0;
%}

%%
"/*"([^*]|\n)*"*/"   { com++; fprintf(yyout," "); }
%%

int main()
{
    printf("write a c program\n");
    yyout = fopen("output.c","w");
    yylex();
    fclose(yyout);
    printf("comment = %d\n", com);
    return 0;
}
</code></pre>
</section>



<!-- ===================== S2 ====================== -->
<section id="s2">
<h2>2(a) Recognize arithmetic expression â€” LEX</h2>
<pre><code>
%{
int opdcount = 0, oprcount = 0;
int i = 0, j = 0, k = 0;
char opd[100], opr[100];
%}

OPERATOR   [+\-\*\/]
OPERANDS   [a-zA-Z0-9]+

%%
{OPERATOR} {
    oprcount++;
    opr[i++] = yytext[0];
    opr[i++] = ' ';
}

{OPERANDS} {
    opdcount++;
    for(j = 0; j < yyleng; j++)
        opd[k++] = yytext[j];
    opd[k++] = ' ';
}

.   ;
%%

int main()
{
    yylex();

    if((opdcount - oprcount) != 1)
        printf("Not valid expression\n");
    else
    {
        printf("Valid expression\n");
        printf("Operands = %s  Count = %d\n", opd, opdcount);
        printf("Operators = %s Count = %d\n", opr, oprcount);
    }

    return 0;
}
</code></pre>
</section>

<h2>2(b) Count identifiers â€” LEX</h2>
<pre><code>
%{
int count = 0;
%}

SPLCH   [!@#$%^&]
DIGIT   [0-9]
LETTER  [a-zA-Z]
USCORE  [_]

%%

({LETTER}|{USCORE})({LETTER}|{DIGIT}|{USCORE})*   { count++; }

({LETTER}|{DIGIT}|{USCORE}|{SPLCH})+              { /* ignore */ }

[ \t\n]+                                          ;

.                                                 ;

%%

int main()
{
    yyin = fopen("ex","r");
    system("cat ex");
    yylex();
    fclose(yyin);

    printf("no of identifiers = %d\n", count);
    return 1;
}

int yywrap() { return 1; }
</code></pre>
</section>



<!-- ===================== S3 ====================== -->
<section id="s3">
<h2>3 Identifier counter â€” LEX</h2>
<pre><code>
%{
#include &lt;stdio.h&gt;
int count=0;
%}

%%
[a-zA-Z_][a-zA-Z0-9_]* {count++;}
[ \t\n]+ ;
. ;
%%

int main(int argc,char *argv[])
{
 if(argc>1)
  yyin=fopen(argv[1],"r");
 yylex();
 printf("Total identifiers=%d\n",count);
 return 0;
}
int yywrap(){return 1;}
</code></pre>
</section>



<!-- ===================== S4 ====================== -->
<section id="s4">
<h2>4(a) Arithmetic Expression Evaluator â€” YACC</h2>
<pre><code>
%{
#include <stdio.h>
#include <ctype.h>
#define YYSTYPE double
%}

%token num
%left '+' '-'
%left '*' '/'
%right UMINUS

%%
lines:
      /* empty */
    | lines exp '\n'   { printf("%g\n", $2); }
    | lines '\n'
    ;

exp :
      exp '+' exp      { $$ = $1 + $3; }
    | exp '-' exp      { $$ = $1 - $3; }
    | exp '*' exp      { $$ = $1 * $3; }
    | exp '/' exp      {
                          if($3 == 0){
                              printf("Divide by zero error\n");
                              exit(0);
                          }
                          $$ = $1 / $3;
                       }
    | '(' exp ')'      { $$ = $2; }
    | '-' exp %prec UMINUS { $$ = -$2; }
    | num
    ;
%%

int yylex()
{
    int c;

    while((c = getchar()) == ' ' || c == '\t')
        ;

    if(c == '.' || isdigit(c))
    {
        ungetc(c, stdin);
        scanf("%lf", &yylval);
        return num;
    }

    return c;
}

int main()
{
    yyparse();
    return 0;
}

int yyerror(char *s)
{
    printf("Error\n");
    return 0;
}
</code></pre>


<h2>4(b) Valid Variable â€” YACC</h2>
<pre><code>
%{
#include <stdio.h>
#include <ctype.h>
%}

%token letter digit

%%
id :
      letter rest '\n'     { printf("Valid\n"); }
    | '\n'                 { printf("Invalid\n"); }
    ;

rest :
      letter rest
    | digit rest
    | /* empty */
    ;
%%

int yylex()
{
    int c;

    while((c = getchar()) == ' ' || c == '\t')
        ;

    if(isalpha(c))
        return letter;

    if(isdigit(c))
        return digit;

    return c;
}

int main()
{
    yyparse();
    return 0;
}

int yyerror(char *s)
{
    printf("Error\n");
    return 0;
}
</code></pre>
</section>



<!-- ===================== S5 ====================== -->
<section id="s5">
<h2>5(a) Recognize a^n b where n â‰¥ 10 â€” YACC</h2>
<pre><code>
%{
#include <stdio.h>
#include <ctype.h>
%}

%token ta tb

%%
v :
      ta ta ta ta ta ta ta ta ta ta p '\n'   { printf("Valid\n"); }
    ;

p :
      ta p
    | tb
    ;
%%

int yylex()
{
    int c;
    while((c = getchar()) == ' ' || c == '\t')
        ;

    if(c == 'a') return ta;
    if(c == 'b') return tb;
    return c;
}

int main()
{
    yyparse();
    return 0;
}

int yyerror(char *s)
{
    printf("Error\n");
    return 0;
}
</code></pre>


<h2>5(b) Recognize a^n b^n â€” YACC</h2>
<pre><code>
%{
#include <stdio.h>
#include <ctype.h>
%}

%token ta tb

%%
S :
      T '\n'     { printf("Valid\n"); }
    ;

T :
      /* empty */
    | ta T tb
    ;
%%

int yylex()
{
    int c;

    while((c = getchar()) == ' ' || c == '\t')
        ;

    if(c == 'a') return ta;
    if(c == 'b') return tb;

    return c;
}

int main()
{
    yyparse();
    return 0;
}

int yyerror(char *s)
{
    printf("Error\n");
    return 0;
}
</code></pre>
</section>



<!-- ===================== S6 ====================== -->
<section id="s6">
<h2>6. Construct LL(1) Parsing Table & Parse String</h2>

<pre><code>
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

char prod[3][10]={"A->aBa","B->bB","B->@"};
char first[3][10]={"a","b","@"};
char follow[3][10]={"$","a","a"};
char table[3][4][10];
char input[10];
int top=-1;
char stack[25];
char curp[20];

void push(char item){ stack[++top]=item; }
void pop(){ top=top-1; }

void display(){
 int i;
 for(i=top;i>=0;i--) printf("%c",stack[i]);
}

int numr(char c){
 switch(c){
  case 'A': return 1;
  case 'B': return 2;
  case 'a': return 1;
  case 'b': return 2;
  case '@': return 3;
 }
 return 1;
}

int main(){
 char c;
 int i,j,k,n;

 for(i=0;i&lt;3;i++)
  for(j=0;j&lt;4;j++)
   strcpy(table[i][j],"EMPTY");

 printf("Grammar\n");
 for(i=0;i&lt;3;i++)
  printf("%s\n",prod[i]);

 printf("\nPredictive Parsing Table:\n");

 strcpy(table[0][0],"");
 strcpy(table[0][1],"a");
 strcpy(table[0][2],"b");
 strcpy(table[0][3],"$");
 strcpy(table[1][0],"A");
 strcpy(table[2][0],"B");

 for(i=0;i&lt;3;i++){
  if(first[i][0] != '@')
   strcpy(table[numr(prod[i][0])][numr(first[i][0])],prod[i]);
  else
   strcpy(table[numr(prod[i][0])][numr(follow[i][0])],prod[i]);
 }

 printf("\nEnter input string ending with $:");
 scanf("%s",input);

 push('$');
 push('A');
 i=0;

 printf("\nStack\tInput\tAction\n");

 while(input[i]!='$' && stack[top]!='$'){
  display();
  printf("\t%s\t",input+i);

  if(stack[top]==input[i]){
   printf("Match %c\n",input[i]);
   pop();
   i++;
  }
  else{
   strcpy(curp,table[numr(stack[top])][numr(input[i])]);
   if(!strcmp(curp,"EMPTY")){
    printf("Invalid String\n");
    exit(0);
   }
   else{
    printf("Apply %s\n",curp);
    pop();
    n=strlen(curp);
    if(curp[3]!='@')
     for(j=n-1;j&gt;=3;j--)
      push(curp[j]);
   }
  }
 }

 if(stack[top]=='$' && input[i]=='$')
  printf("\nValid String\n");
 else
  printf("\nInvalid String\n");
}
</code></pre>
</section>



<!-- ===================== S7 ====================== -->
<section id="s7">
<h2>7. Shift Reduce Parser</h2>

<pre><code>
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

int k=0,z=0,i=0,j=0,c=0;
char a[16],ac[20],stk[15],act[10];

void check();

int main(){
 puts("GRAMMAR is\nE->E+E\nE->E*E\nE->(E)\nE->id");

 printf("Enter input string: ");
 gets(a);

 c=strlen(a);
 strcpy(act,"SHIFT->");

 puts("stack\tinput\taction");

 for(k=0,i=0;j&lt;c;k++,i++,j++){
  if(a[j]=='i' && a[j+1]=='d'){
   stk[i]=a[j];
   stk[i+1]=a[j+1];
   stk[i+2]='\0';
   a[j]=' ';
   a[j+1]=' ';
   printf("\n$%s\t%s$\t%sid",stk,a,act);
   check();
  }
  else{
   stk[i]=a[j];
   stk[i+1]='\0';
   a[j]=' ';
   printf("\n$%s\t%s$\t%ssym",stk,a,act);
   check();
  }
 }
}

void check(){
 strcpy(ac,"REDUCE TO E");

 for(z=0;z&lt;c;z++)
  if(stk[z]=='i' && stk[z+1]=='d'){
   stk[z]='E';
   stk[z+1]='\0';
   printf("\n$%s\t%s$\t%s",stk,a,ac);
   j++;
  }

 for(z=0;z&lt;c;z++)
  if(stk[z]=='E' && stk[z+1]=='+' && stk[z+2]=='E'){
   stk[z]='E';
   stk[z+1]=stk[z+2]='\0';
   printf("\n$%s\t%s$\t%s",stk,a,ac);
   i=i-2;
  }

 for(z=0;z&lt;c;z++)
  if(stk[z]=='E' && stk[z+1]=='*' && stk[z+2]=='E'){
   stk[z]='E';
   stk[z+1]=stk[z+2]='\0';
   printf("\n$%s\t%s$\t%s",stk,a,ac);
   i=i-2;
  }

 for(z=0;z&lt;c;z++)
  if(stk[z]=='(' && stk[z+1]=='E' && stk[z+2]==')'){
   stk[z]='E';
   stk[z+1]=stk[z+2]='\0';
   printf("\n$%s\t%s$\t%s",stk,a,ac);
   i=i-2;
  }
}
</code></pre>
</section>



<!-- ===================== S8 ====================== -->
<section id="s8">
<h2>8. Syntax Directed Definition â€” IF THEN ELSE</h2>

<pre><code>
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

int parsecondition(char[],int,char*,int);
void gen(char[],char[],char[],int);

int main(){
 int counter=0,stlen=0,elseflag=0;
 char stmt[60],B[50],S1[50],S2[50];

 printf("Enter IF statement:\n");
 scanf("%[^\n]",stmt);

 stlen=strlen(stmt);
 counter=counter+2;

 counter=parsecondition(stmt,counter,B,stlen);
 counter++;
 counter+=4;
 counter=parsecondition(stmt,counter,S1,stlen);

 if(stmt[counter]==')') counter++;

 if(stmt[counter+1]!='e'){
  printf("\nParsed Output");
  gen(B,S1,S2,elseflag);
  return 0;
 }

 counter+=4;
 counter=parsecondition(stmt,counter,S2,stlen);
 elseflag=1;

 printf("\nParsed Output");
 gen(B,S1,S2,elseflag);
}

int parsecondition(char in[],int c,char* dest,int len){
 int i=0,pos=0;

 while(in[c]!='(' && c&lt;=len) c++;
 i=c;
 while(in[c]!=')') c++;
 while(i&lt;=c) dest[pos++]=in[i++];
 dest[pos]='\0';
 return c;
}

void gen(char B[],char S1[],char S2[],int e){
 int Bt=101,Bf=102,Sn=103;

 printf("\nif %s goto %d",B,Bt);
 printf("\ngoto %d",Bf);
 printf("\n%d:%s",Bt,S1);

 if(!e)
  printf("\n%d\n",Bf);
 else{
  printf("\ngoto %d\n",Sn);
  printf("%d:%s\n",Bf,S2);
  printf("%d\n",Sn);
 }
}
</code></pre>
</section>



<!-- ===================== S9 ====================== -->
<section id="s9">
<h2>9. Parse Tree for Regular Expression â€” YACC</h2>

<pre><code>
%{
#include &lt;stdio.h&gt;
#include &lt;ctype.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

#define MAX 100
char productions[MAX][MAX];
int count=0,i,j;
char temp[200],temp2[200];

int getREindex(const char *s){
 for(i=strlen(s)-1;i&gt;=0;i--)
  if(s[i]=='e' && s[i-1]=='r')
   return i-1;
}
%}

%token ALPHABET
%left '|'
%left '.'
%nonassoc '*' '+'

%%
S: re '\n' {
 printf("Rightmost derivation:\n");
 for(i=count-1;i&gt;=0;i--){
  if(i==count-1){
   printf("re => %s\n",productions[i]);
   strcpy(temp,productions[i]);
  }
  else{
   printf(" => ");
   j=getREindex(temp);
   temp[j]='\0';
   sprintf(temp2,"%s%s%s",temp,productions[i],(temp+j+2));
   printf("%s\n",temp2);
   strcpy(temp,temp2);
  }
 }
 exit(0);
}
;

re: ALPHABET {
 temp[0]=yylval;
 temp[1]='\0';
 strcpy(productions[count++],temp);
}
| '(' re ')' { strcpy(productions[count++],"(re)"); }
| re '*' { strcpy(productions[count++],"re*"); }
| re '+' { strcpy(productions[count++],"re+"); }
| re '|' re { strcpy(productions[count++],"re|re"); }
| re '.' re { strcpy(productions[count++],"re.re"); }
;
%%

int main(){ yyparse(); }

int yylex(){
 char ch=getchar();
 yylval=ch;
 if(isalpha(ch)) return ALPHABET;
 return ch;
}

int yyerror(){
 printf("Invalid RE\n");
 exit(1);
}
</code></pre>
</section>



<!-- ===================== S10 ====================== -->
<section id="s10">
<h2>10. Generate Machine Code using Triples</h2>

<pre><code>
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

char op[2],arg1[5],arg2[5],result[5];

int main(){
 FILE *fp1,*fp2;

 fp1=fopen("input.txt","r");
 fp2=fopen("output.txt","w");

 while(!feof(fp1)){
  fscanf(fp1,"%s%s%s%s",result,arg1,op,arg2);

  if(strcmp(op,"+")==0){
   fprintf(fp2,"\nMOV R0,%s",arg1);
   fprintf(fp2,"\nADD R0,%s",arg2);
   fprintf(fp2,"\nMOV %s,R0",result);
  }
  if(strcmp(op,"-")==0){
   fprintf(fp2,"\nMOV R0,%s",arg1);
   fprintf(fp2,"\nSUB R0,%s",arg2);
   fprintf(fp2,"\nMOV %s,R0",result);
  }
  if(strcmp(op,"*")==0){
   fprintf(fp2,"\nMOV R0,%s",arg1);
   fprintf(fp2,"\nMUL R0,%s",arg2);
   fprintf(fp2,"\nMOV %s,R0",result);
  }
  if(strcmp(op,"/")==0){
   fprintf(fp2,"\nMOV R0,%s",arg1);
   fprintf(fp2,"\nDIV R0,%s",arg2);
   fprintf(fp2,"\nMOV %s,R0",result);
  }
  if(strcmp(op,"=")==0){
   fprintf(fp2,"\nMOV R0,%s",arg1);
   fprintf(fp2,"\nMOV %s,R0",result);
  }
 }

 fclose(fp1);
 fclose(fp2);
}
</code></pre>
</section>
</body>
</html>